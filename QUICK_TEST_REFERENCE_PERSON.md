# å‚è€ƒäººç‰©æ©Ÿèƒ½ ãƒ‡ãƒãƒƒã‚°ã‚¬ã‚¤ãƒ‰

## ğŸ” ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°ã®ç¢ºèª

ä¿®æ­£å¾Œã€å‚è€ƒäººç‰©æ©Ÿèƒ½ãŒæ­£ã—ãå‹•ä½œã—ã¦ã„ã‚‹ã‹ã¯ã€ä»¥ä¸‹ã®ãƒ­ã‚°ã§ç¢ºèªã§ãã¾ã™ï¼š

### æœŸå¾…ã•ã‚Œã‚‹ãƒ­ã‚°ï¼ˆå‚è€ƒäººç‰©ã‚ã‚Šï¼‰

```
[Reference Person] å‚è€ƒäººç‰©ã‚’è¨­å®š: person_name
[Reference Person] å‚è€ƒäººç‰©ç”»åƒã‚’è¨­å®š: C:/path/to/person.jpg
...
[ç”Ÿæˆé–‹å§‹]
[MainWindow] å‚è€ƒäººç‰©ã‚’ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã«è¨­å®š: C:/path/to/person.jpg
[Gemini Adapter] â˜…å‚è€ƒäººç‰©ç”»åƒã‚’è¨­å®šâ˜…: person.jpg
...
=== Generating image 1/1 ===
  [DEBUG] self.reference_person_image = C:/path/to/person.jpg
  â˜…â˜…â˜… Added reference person image: person.jpg â˜…â˜…â˜…
  Added garment image: TOP: shirt.png
  Sending request to Gemini 2.5 Flash Image...
```

### æœŸå¾…ã•ã‚Œã‚‹ãƒ­ã‚°ï¼ˆå‚è€ƒäººç‰©ãªã—ï¼‰

```
[ç”Ÿæˆé–‹å§‹]
[MainWindow] å‚è€ƒäººç‰©ãªã—ï¼ˆæ–°ã—ã„ãƒ¢ãƒ‡ãƒ«ã‚’ç”Ÿæˆï¼‰
[Gemini Adapter] å‚è€ƒäººç‰©ç”»åƒã‚’ã‚¯ãƒªã‚¢
...
=== Generating image 1/1 ===
  [DEBUG] self.reference_person_image = None
  â„¹ï¸ No reference person image (will generate new model)
  Added garment image: TOP: shirt.png
  Sending request to Gemini 2.5 Flash Image...
```

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆæ‰‹é †

### 1. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å†èµ·å‹•

```bash
# ç¾åœ¨èµ·å‹•ä¸­ã®ã‚¢ãƒ—ãƒªã‚’çµ‚äº†
# å†èµ·å‹•
python app/main.py
```

### 2. å‚è€ƒäººç‰©ã‚’è¨­å®š

1. å·¦ä¸Šã€ŒğŸ‘¤ å‚è€ƒäººç‰©ã€ã‚¨ãƒªã‚¢ã§ã€ŒğŸ“ äººç‰©ç”»åƒã‚’é¸æŠã€ã‚’ã‚¯ãƒªãƒƒã‚¯
2. äººç‰©ã®å…¨èº«å†™çœŸã‚’é¸æŠ
3. ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«è¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

### 3. è¡£é¡ã‚’è¿½åŠ 

1. ã€Œè¡£é¡ç”»åƒã€ã‚¨ãƒªã‚¢ã§ã€Œ+ ç”»åƒã‚’è¿½åŠ ã€
2. æœã®ç”»åƒã‚’é¸æŠ

### 4. ç”Ÿæˆã—ã¦ãƒ­ã‚°ã‚’ç¢ºèª

1. ã€Œç”Ÿæˆé–‹å§‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ä»¥ä¸‹ã®ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª:
   ```
   [MainWindow] å‚è€ƒäººç‰©ã‚’ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã«è¨­å®š: ...
   [Gemini Adapter] â˜…å‚è€ƒäººç‰©ç”»åƒã‚’è¨­å®šâ˜…: ...
   [DEBUG] self.reference_person_image = ...
   â˜…â˜…â˜… Added reference person image: ... â˜…â˜…â˜…
   ```

### 5. çµæœã‚’ç¢ºèª

- ç”Ÿæˆç”»åƒãŒå‚è€ƒäººç‰©ã¨åŒã˜é¡”ãƒ»ä½“å‹ã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèª

---

## âŒ ã‚‚ã—ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œãªã„å ´åˆ

### ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

1. âœ… ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å†èµ·å‹•ã—ã¾ã—ãŸã‹ï¼Ÿ
2. âœ… æœ€æ–°ã®ã‚³ãƒ¼ãƒ‰ãŒåæ˜ ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ
3. âœ… å‚è€ƒäººç‰©ç”»åƒã‚’æ­£ã—ãè¨­å®šã—ã¾ã—ãŸã‹ï¼Ÿ
4. âœ… ã€Œç”Ÿæˆé–‹å§‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã—ãŸã‹ï¼Ÿ

### ç¢ºèªã‚³ãƒãƒ³ãƒ‰

```bash
# ã‚³ãƒ¼ãƒ‰ãŒæœ€æ–°ã‹ç¢ºèª
git status

# æœ€æ–°ã® gemini_imagen_adapter.py ã‚’ç¢ºèª
grep "â˜…å‚è€ƒäººç‰©ç”»åƒã‚’è¨­å®šâ˜…" app/core/adapters/gemini_imagen_adapter.py
```

---

## ğŸ“ ä¿®æ­£å†…å®¹

### è¿½åŠ ã•ã‚ŒãŸãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°

1. **set_reference_person()** ã§ã€Œâ˜…å‚è€ƒäººç‰©ç”»åƒã‚’è¨­å®šâ˜…ã€
2. **generate()** ã§ã€Œ[DEBUG] self.reference_person_image = ...ã€
3. **generate()** ã§ã€Œâ˜…â˜…â˜… Added reference person image â˜…â˜…â˜…ã€
4. **å‚è€ƒäººç‰©ãªã—** ã®å ´åˆã€Œâ„¹ï¸ No reference person imageã€

ã“ã‚Œã‚‰ã®ãƒ­ã‚°ã§ã€å‚è€ƒäººç‰©ç”»åƒãŒæ­£ã—ãå‡¦ç†ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã§ãã¾ã™ã€‚

---

**ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å†èµ·å‹•ã—ã¦ãƒ†ã‚¹ãƒˆã—ã¦ãã ã•ã„ï¼**

