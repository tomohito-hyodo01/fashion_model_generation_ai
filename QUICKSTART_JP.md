# 🚀 クイックスタート - Virtual Try-On

## 📋 必要なもの

- ✅ Python 3.8以上
- ✅ インターネット接続
- ✅ 服の画像（PNG, JPG, JPEG, WebP）

## ⚡ 最速セットアップ（3ステップ）

### ステップ1: APIキーの自動設定

```powershell
python setup_api_key.py
```

**出力例:**
```
============================================================
Gemini APIキー自動設定
============================================================
✓ APIキーが正常に保存されました
✅ セットアップ完了！
============================================================
```

### ステップ2: アプリを起動

```powershell
python app\main.py
```

**または:**
```powershell
.\run.ps1
```

### ステップ3: 画像生成

1. **服の画像を追加**
   - 「+ 画像を追加」ボタンをクリック
   - 服の画像を選択
   - 衣類タイプを選択（TOP/BOTTOM等）

2. **モデル属性を設定**
   - 性別: female/male
   - 年齢: 20s/30s/40s
   - 体型: standard/slim等

3. **生成開始**
   - 「生成開始」ボタンをクリック
   - 待つ（10〜30秒）
   - 結果が表示される！

## 🎯 初回起動時

アプリを初めて起動すると、以下のダイアログが表示されます：

```
┌──────────────────────────────────────┐
│ Gemini APIキー自動設定               │
├──────────────────────────────────────┤
│ Gemini APIキーが設定されていません。 │
│ デフォルトのAPIキーを自動設定しますか？│
│                                      │
│ ※後で設定メニューから変更できます。  │
│                                      │
│          [はい]    [いいえ]          │
└──────────────────────────────────────┘
```

**「はい」を選択** → すぐに使用開始！

## 📸 使用例

### 例1: カジュアルTシャツ

```
入力: 緑のTシャツ画像
設定: 女性、20代、標準体型
↓
出力: その緑のTシャツを着た女性モデルの全身写真
```

### 例2: ビジネススーツ

```
入力: ブレザー + シャツ
設定: 男性、30代、アスリート体型
↓
出力: スーツを着た男性モデルの全身写真
```

## 🔧 手動でAPIキーを設定する場合

### 方法1: アプリのUIから

1. アプリを起動
2. メニューバー → 「設定」→「APIキー設定」
3. プロバイダ: `gemini`
4. APIキー: `AIzaSyDLQVe0L5jn6R7lJNV4coe5FY-ICRHtSIg`
5. 保存

### 方法2: コマンドラインから

```python
# Python対話モードで実行
python

>>> import sys
>>> sys.path.insert(0, 'app')
>>> from utils.api_key_manager import APIKeyManager
>>> manager = APIKeyManager()
>>> manager.save_api_key("gemini", "AIzaSyDLQVe0L5jn6R7lJNV4coe5FY-ICRHtSIg")
>>> exit()
```

## ❓ トラブルシューティング

### Q1: 「Gemini APIキーが設定されていません」と表示される

**解決方法:**

```powershell
# セットアップスクリプトを再実行
python setup_api_key.py
```

### Q2: 画像が生成されない

**確認事項:**
1. ✅ インターネット接続
2. ✅ 服の画像が正常に読み込めるか
3. ✅ APIキーが正しく設定されているか

**確認コマンド:**
```python
python
>>> import sys
>>> sys.path.insert(0, 'app')
>>> from utils.api_key_manager import APIKeyManager
>>> manager = APIKeyManager()
>>> print(manager.load_api_key("gemini")[:20])
AIzaSyDLQVe0L5jn6R7l
>>> exit()
```

### Q3: エラーメッセージが表示される

**一般的なエラー:**

| エラー | 原因 | 解決方法 |
|--------|------|----------|
| `クォータ制限` | 無料枠を使い切った | 時間を置いて再試行 |
| `404 NOT_FOUND` | モデルが見つからない | アプリを再起動 |
| `認証エラー` | APIキーが無効 | APIキーを再設定 |

## 📊 性能と制限

### 生成時間
- 1枚: 約10〜30秒
- 4枚: 約40〜120秒

### 画像サイズ
- 1024x1024（正方形）
- 1024x1792（縦長）
- 1792x1024（横長）

### 出力枚数
- 1〜4枚まで同時生成可能

### 無料枠
- Gemini 2.5 Flash Image: 一定の無料枠あり
- 詳細: https://ai.google.dev/pricing

## 🎨 推奨設定

### 高品質な結果を得るために

1. **服の画像**
   - 解像度: 600x800ピクセル以上
   - 背景: 白または単色
   - 明るさ: 明るく、鮮明

2. **モデル属性**
   - 服のスタイルに合った設定
   - カジュアル/フォーマルを意識

3. **生成設定**
   - まずは1枚で試す
   - 満足したら複数枚生成

## 📚 詳細ガイド

より詳しい情報は以下を参照：
- `VIRTUAL_TRYON_GUIDE.md` - 完全ガイド
- `README.md` - プロジェクト概要
- `API_SETUP_GUIDE.md` - API設定詳細

## 🆘 サポート

問題が解決しない場合：
1. `VIRTUAL_TRYON_GUIDE.md`を確認
2. GitHubのIssuesを確認
3. 新しいIssueを作成

---

**最終更新**: 2025年11月11日  
**バージョン**: 2.0.0

